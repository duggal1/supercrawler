---
title: Extrapolate – AI Aging App
description: No description
keywords: No keywords
canonicalUrl: https://vercel.com/templates/next.js/extrapolate
---

## Table of Contents

{/* Auto-generated table of contents */}

[Skip to content](#geist-skip-)

* ProductsDX Platform[Previews Helping teams ship 6× faster](/products/previews)[AI Powering breakthroughs](/ai)Managed Infrastructure[Fluid compute Servers, in serverless form](/fluid)[Rendering Fast, scalable, and reliable](/products/rendering)[Observability Trace every step](/products/observability)[Security Scale without compromising](/security)Open Source[Next.js The native Next.js platform](/frameworks/nextjs)[Turborepo Speed with Enterprise scale](/solutions/turborepo)[AI SDK The AI Toolkit for Type](https://sdk.vercel.ai/)
* DX Platform[Previews Helping teams ship 6× faster](/products/previews)[AI Powering breakthroughs](/ai)
* [Previews Helping teams ship 6× faster](/products/previews)
* [AI Powering breakthroughs](/ai)
* Managed Infrastructure[Fluid compute Servers, in serverless form](/fluid)[Rendering Fast, scalable, and reliable](/products/rendering)[Observability Trace every step](/products/observability)[Security Scale without compromising](/security)
* [Fluid compute Servers, in serverless form](/fluid)
* [Rendering Fast, scalable, and reliable](/products/rendering)
* [Observability Trace every step](/products/observability)
* [Security Scale without compromising](/security)
* Open Source[Next.js The native Next.js platform](/frameworks/nextjs)[Turborepo Speed with Enterprise scale](/solutions/turborepo)[AI SDK The AI Toolkit for Type](https://sdk.vercel.ai/)
* [Next.js The native Next.js platform](/frameworks/nextjs)
* [Turborepo Speed with Enterprise scale](/solutions/turborepo)
* [AI SDK The AI Toolkit for Type](https://sdk.vercel.ai/)
* SolutionsUse Cases[AI Apps Deploy at the speed of AI](/solutions/ai-apps)[Composable Commerce Power storefronts that convert](/solutions/composable-commerce)[Marketing Sites Launch campaigns fast](/solutions/marketing-sites)[Multi-tenant Platforms Scale apps with one codebase](/solutions/multi-tenant-saas)[Web Apps Ship features, not infrastructure](/solutions/web-apps)Users[Platform Engineers Automate away repetition](/solutions/platform-engineering)[Design Engineers Deploy for every idea](/solutions/design-engineering)
* Use Cases[AI Apps Deploy at the speed of AI](/solutions/ai-apps)[Composable Commerce Power storefronts that convert](/solutions/composable-commerce)[Marketing Sites Launch campaigns fast](/solutions/marketing-sites)[Multi-tenant Platforms Scale apps with one codebase](/solutions/multi-tenant-saas)[Web Apps Ship features, not infrastructure](/solutions/web-apps)
* [AI Apps Deploy at the speed of AI](/solutions/ai-apps)
* [Composable Commerce Power storefronts that convert](/solutions/composable-commerce)
* [Marketing Sites Launch campaigns fast](/solutions/marketing-sites)
* [Multi-tenant Platforms Scale apps with one codebase](/solutions/multi-tenant-saas)
* [Web Apps Ship features, not infrastructure](/solutions/web-apps)
* Users[Platform Engineers Automate away repetition](/solutions/platform-engineering)[Design Engineers Deploy for every idea](/solutions/design-engineering)
* [Platform Engineers Automate away repetition](/solutions/platform-engineering)
* [Design Engineers Deploy for every idea](/solutions/design-engineering)
* ResourcesTools[Resource Center Today’s best practices](/resources)[Marketplace Extend and automate workflows](/marketplace)[Templates Jumpstart app development](/templates)[Guides Find help quickly](/guides)[Partner Finder Get help from solution partners](/partners/solution-partners)Company[Customers Trusted by the best teams](/customers)[Blog The latest posts and changes](/blog)[Changelog See what shipped](/changelog)[Press Read the latest news](/press)
* Tools[Resource Center Today’s best practices](/resources)[Marketplace Extend and automate workflows](/marketplace)[Templates Jumpstart app development](/templates)[Guides Find help quickly](/guides)[Partner Finder Get help from solution partners](/partners/solution-partners)
* [Resource Center Today’s best practices](/resources)
* [Marketplace Extend and automate workflows](/marketplace)
* [Templates Jumpstart app development](/templates)
* [Guides Find help quickly](/guides)
* [Partner Finder Get help from solution partners](/partners/solution-partners)
* Company[Customers Trusted by the best teams](/customers)[Blog The latest posts and changes](/blog)[Changelog See what shipped](/changelog)[Press Read the latest news](/press)
* [Customers Trusted by the best teams](/customers)
* [Blog The latest posts and changes](/blog)
* [Changelog See what shipped](/changelog)
* [Press Read the latest news](/press)
* [Enterprise](/enterprise)
* [Docs](/docs)
* [Pricing](/pricing)

[Log In](/login)

[Contact](/contact)

[Sign Up](/signup)

[← Back to Templates](/templates)

[steven-tey/extrapolate](https://github.com/steven-tey/extrapolate)

# Extrapolate – AI Aging App

Age transformation AI app powered by Next.js, Replicate, Upstash, and Cloudflare R2 + Workers.

[Deploy](/new/clone?demo-deion=Age%20transformation%20AI%20app%20powered%20by%20Next.js%2C%20Replicate%2C%20Upstash%2C%20and%20Cloudflare%20R2%20%2B%20Workers.&demo-image=%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F4B2RUQ7DTvPgpf3Ra9jSC2%2Fda2571b055081a670ac9649d3ac0ac7a%2FCleanShot_2023-01-20_at_12.04.08.png&demo-title=Extrapolate%20%E2%80%93%C2%A0AI%20Aging%20App&demo-url=https%3A%2F%2Fextrapolate.app%2F&env=REPLICATE_API_TOKEN%2CNEXT_PUBLIC_CLOUDFLARE_WORKER%2CCLOUDFLARE_WORKER_SECRET&envDeion=How%20to%20get%20these%20env%20variables%3A%20&envLink=https%3A%2F%2Fgithub.com%2Fsteven-tey%2Fextrapolate%2Fblob%2Fmain%2F.env.example&from=templates&integration-ids=oac_V3R1GIpkoJorr6fqyiwdhl17&project-name=Extrapolate%20%E2%80%93%C2%A0AI%20Aging%20App&repository-name=extrapolate&repository-url=https%3A%2F%2Fgithub.com%2Fsteven-tey%2Fextrapolate)

[View Demo](https://extrapolate.app/)

[Next.js](/templates/next.js)

[AI](/templates/ai)

[Tailwind](/templates/tailwind)

[Upstash](/templates/upstash)

![Extrapolate Thumbnail](/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F4B2RUQ7DTvPgpf3Ra9jSC2%2Fda2571b055081a670ac9649d3ac0ac7a%2FCleanShot_2023-01-20_at_12.04.08.png&w=3840&q=75)

--NEW README COMING SOON--

### Introduction

Extrapolate is an app for you to see how well you age by transforming your face with Artificial Intelligence.

### Features

* 3s GIF of your face as it ages through time 🧓
* Store & retrieve photos from[Cloudflare R2](https://www.cloudflare.com/lp/pg-r2/)using Workers

### Deploy Your Own

You can deploy this template to Vercel with the button below:

[](https://vercel.com/new/clone?demo-title=Extrapolate%20%E2%80%93%C2%A0See%20how%20well%20you%20age%20with%20AI&demo-deion=Age%20transformation%20AI%20app%20powered%20by%20Next.js%2C%20Replicate%2C%20Upstash%2C%20and%20Cloudflare%20R2%20%2B%20Workers.&demo-url=https%3A%2F%2Fextrapolate.app%2F&demo-image=%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F4B2RUQ7DTvPgpf3Ra9jSC2%2Fda2571b055081a670ac9649d3ac0ac7a%2FCleanShot_2023-01-20_at_12.04.08.png&project-name=Extrapolate%20%E2%80%93%C2%A0See%20how%20well%20you%20age%20with%20AI&repository-name=extrapolate&repository-url=https%3A%2F%2Fgithub.com%2Fsteven-tey%2Fextrapolate&from=templates&integration-ids=oac_V3R1GIpkoJorr6fqyiwdhl17&env=REPLICATE_API_TOKEN%2CREPLICATE_WEBHOOK_TOKEN%2CCLOUDFLARE_WORKER_SECRET%2CPOSTMARK_TOKEN&envDeion=How%20to%20get%20these%20env%20variables%3A%20&envLink=https%3A%2F%2Fgithub.com%2Fsteven-tey%2Fextrapolate%2Fblob%2Fmain%2F.env.example)

Note that you'll need to:

* Set up a[ReplicateHQ](https://replicate.com)account to get the`REPLICATE_API_TOKEN`env var.
* Set up an[Upstash](https://upstash.com)account to get the Upstash Redis env vars.
* Create a[Cloudflare R2 instance](https://www.cloudflare.com/lp/pg-r2/)and set up a[Cloudflare Worker](https://workers.cloudflare.com/)to handle uploads & reads (instructions below).

#### Cloudflare R2 setup instructions

1. Go to Cloudflare and create an[R2 bucket](https://www.cloudflare.com/lp/pg-r2/).
1. Create a[Cloudflare Worker](https://workers.cloudflare.com/)using the code snippet below.
1. Bind your worker to your R2 instance under**Settings > R2 Bucket Bindings**.
1. For extra security, set an`AUTH_KEY_SECRET`variable under**Settings > Environment Variables**(you can generate a random secret[here](https://generate-secret.vercel.app/)).
1. Replace all instances of`images.extrapolate.workers.dev`in the codebase with your Cloudflare Worker endpoint.

```
// Check requests for a pre-shared secret
const

hasValid

=

(
request
,
 env
)

=>

{

return
 request
.
s
.
get
(
"X-CF-Secret"
)

===
 env
.
AUTH_KEY_SECRET
;
}
;


function

authorizeRequest
(
request
,
 env
,
 key
)

{

switch

(
request
.
method
)

{

case

"PUT"
:

case

"DELETE"
:

return

hasValid
(
request
,
 env
)
;

case

"GET"
:

return

true
;

default
:

return

false
;

}
}


export

default

{

async

fetch
(
request
,
 env
)

{

const
 url
=

new

URL
(
request
.
url
)
;

const
 key
=
 url
.
pathname
.
slice
(
1
)
;



if

(
!
authorizeRequest
(
request
,
 env
,
 key
)
)

{

return

new

Response
(
"Forbidden"
,

{
 status
:

403

}
)
;

}



switch

(
request
.
method
)

{

case

"PUT"
:

await
 env
.
MY_BUCKET
.
put
(
key
,
 request
.
body
)
;

return

new

Response
(
`
Put
${
key
}
 successfully!
`
)
;

case

"GET"
:

const
 object
=

await
 env
.
MY_BUCKET
.
get
(
key
)
;



if

(
object
===

null
)

{

return

new

Response
(
"Object Not Found"
,

{
 status
:

404

}
)
;

}



const
 s
=

new

s
(
)
;
        object
.
writeHttpMetadata
(
s
)
;
        s
.
set
(
"etag"
,
 object
.
httpEtag
)
;



return

new

Response
(
object
.
body
,

{
          s
,

}
)
;

case

"DELETE"
:

await
 env
.
MY_BUCKET
.
delete
(
key
)
;

return

new

Response
(
"Deleted!"
)
;



default
:

return

new

Response
(
"Method Not Allowed"
,

{
          status
:

405
,
          s
:

{

Allow
:

"PUT, GET, DELETE"
,

}
,

}
)
;

}

}
,
}
;
```

### Author

* Steven Tey ([@steventey](https://twitter.com/steventey))

[← Back to Templates](/templates)

![Extrapolate Thumbnail](/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F4B2RUQ7DTvPgpf3Ra9jSC2%2Fda2571b055081a670ac9649d3ac0ac7a%2FCleanShot_2023-01-20_at_12.04.08.png&w=3840&q=75)

[steven-tey/extrapolate](https://github.com/steven-tey/extrapolate)

# Extrapolate – AI Aging App

Age transformation AI app powered by Next.js, Replicate, Upstash, and Cloudflare R2 + Workers.

[Deploy](/new/clone?demo-deion=Age%20transformation%20AI%20app%20powered%20by%20Next.js%2C%20Replicate%2C%20Upstash%2C%20and%20Cloudflare%20R2%20%2B%20Workers.&demo-image=%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F4B2RUQ7DTvPgpf3Ra9jSC2%2Fda2571b055081a670ac9649d3ac0ac7a%2FCleanShot_2023-01-20_at_12.04.08.png&demo-title=Extrapolate%20%E2%80%93%C2%A0AI%20Aging%20App&demo-url=https%3A%2F%2Fextrapolate.app%2F&env=REPLICATE_API_TOKEN%2CNEXT_PUBLIC_CLOUDFLARE_WORKER%2CCLOUDFLARE_WORKER_SECRET&envDeion=How%20to%20get%20these%20env%20variables%3A%20&envLink=https%3A%2F%2Fgithub.com%2Fsteven-tey%2Fextrapolate%2Fblob%2Fmain%2F.env.example&from=templates&integration-ids=oac_V3R1GIpkoJorr6fqyiwdhl17&project-name=Extrapolate%20%E2%80%93%C2%A0AI%20Aging%20App&repository-name=extrapolate&repository-url=https%3A%2F%2Fgithub.com%2Fsteven-tey%2Fextrapolate)

[View Demo](https://extrapolate.app/)

[Next.js](/templates/next.js)

[AI](/templates/ai)

[Tailwind](/templates/tailwind)

[Upstash](/templates/upstash)

--NEW README COMING SOON--

### Introduction

Extrapolate is an app for you to see how well you age by transforming your face with Artificial Intelligence.

### Features

* 3s GIF of your face as it ages through time 🧓
* Store & retrieve photos from[Cloudflare R2](https://www.cloudflare.com/lp/pg-r2/)using Workers

### Deploy Your Own

You can deploy this template to Vercel with the button below:

[](https://vercel.com/new/clone?demo-title=Extrapolate%20%E2%80%93%C2%A0See%20how%20well%20you%20age%20with%20AI&demo-deion=Age%20transformation%20AI%20app%20powered%20by%20Next.js%2C%20Replicate%2C%20Upstash%2C%20and%20Cloudflare%20R2%20%2B%20Workers.&demo-url=https%3A%2F%2Fextrapolate.app%2F&demo-image=%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F4B2RUQ7DTvPgpf3Ra9jSC2%2Fda2571b055081a670ac9649d3ac0ac7a%2FCleanShot_2023-01-20_at_12.04.08.png&project-name=Extrapolate%20%E2%80%93%C2%A0See%20how%20well%20you%20age%20with%20AI&repository-name=extrapolate&repository-url=https%3A%2F%2Fgithub.com%2Fsteven-tey%2Fextrapolate&from=templates&integration-ids=oac_V3R1GIpkoJorr6fqyiwdhl17&env=REPLICATE_API_TOKEN%2CREPLICATE_WEBHOOK_TOKEN%2CCLOUDFLARE_WORKER_SECRET%2CPOSTMARK_TOKEN&envDeion=How%20to%20get%20these%20env%20variables%3A%20&envLink=https%3A%2F%2Fgithub.com%2Fsteven-tey%2Fextrapolate%2Fblob%2Fmain%2F.env.example)

Note that you'll need to:

* Set up a[ReplicateHQ](https://replicate.com)account to get the`REPLICATE_API_TOKEN`env var.
* Set up an[Upstash](https://upstash.com)account to get the Upstash Redis env vars.
* Create a[Cloudflare R2 instance](https://www.cloudflare.com/lp/pg-r2/)and set up a[Cloudflare Worker](https://workers.cloudflare.com/)to handle uploads & reads (instructions below).

#### Cloudflare R2 setup instructions

1. Go to Cloudflare and create an[R2 bucket](https://www.cloudflare.com/lp/pg-r2/).
1. Create a[Cloudflare Worker](https://workers.cloudflare.com/)using the code snippet below.
1. Bind your worker to your R2 instance under**Settings > R2 Bucket Bindings**.
1. For extra security, set an`AUTH_KEY_SECRET`variable under**Settings > Environment Variables**(you can generate a random secret[here](https://generate-secret.vercel.app/)).
1. Replace all instances of`images.extrapolate.workers.dev`in the codebase with your Cloudflare Worker endpoint.

```
// Check requests for a pre-shared secret
const

hasValid

=

(
request
,
 env
)

=>

{

return
 request
.
s
.
get
(
"X-CF-Secret"
)

===
 env
.
AUTH_KEY_SECRET
;
}
;


function

authorizeRequest
(
request
,
 env
,
 key
)

{

switch

(
request
.
method
)

{

case

"PUT"
:

case

"DELETE"
:

return

hasValid
(
request
,
 env
)
;

case

"GET"
:

return

true
;

default
:

return

false
;

}
}


export

default

{

async

fetch
(
request
,
 env
)

{

const
 url
=

new

URL
(
request
.
url
)
;

const
 key
=
 url
.
pathname
.
slice
(
1
)
;



if

(
!
authorizeRequest
(
request
,
 env
,
 key
)
)

{

return

new

Response
(
"Forbidden"
,

{
 status
:

403

}
)
;

}



switch

(
request
.
method
)

{

case

"PUT"
:

await
 env
.
MY_BUCKET
.
put
(
key
,
 request
.
body
)
;

return

new

Response
(
`
Put
${
key
}
 successfully!
`
)
;

case

"GET"
:

const
 object
=

await
 env
.
MY_BUCKET
.
get
(
key
)
;



if

(
object
===

null
)

{

return

new

Response
(
"Object Not Found"
,

{
 status
:

404

}
)
;

}



const
 s
=

new

s
(
)
;
        object
.
writeHttpMetadata
(
s
)
;
        s
.
set
(
"etag"
,
 object
.
httpEtag
)
;



return

new

Response
(
object
.
body
,

{
          s
,

}
)
;

case

"DELETE"
:

await
 env
.
MY_BUCKET
.
delete
(
key
)
;

return

new

Response
(
"Deleted!"
)
;



default
:

return

new

Response
(
"Method Not Allowed"
,

{
          status
:

405
,
          s
:

{

Allow
:

"PUT, GET, DELETE"
,

}
,

}
)
;

}

}
,
}
;
```

### Author

* Steven Tey ([@steventey](https://twitter.com/steventey))

## Related Templates

[AI Photo RestorerAn AI Face Photo Restorer built on Next.js and Replicate.byHassan El Mghari](/templates/next.js/ai-photo-restorer)

[AI Twitter Bio GeneratorGenerate your Twitter bio with OpenAI GPT-3 API (text-davinci-003) and Vercel Edge Functions with streaming.byHassan El Mghari](/templates/next.js/twitter-bio)

[Dall-E 2 AI Art GeneratorDall-E 2 frontend using Upstash for message queue + Redis.byDom Eccleston](/templates/next.js/dall-e)

[Next.js AI ChatbotA full-featured, hackable Next.js AI chatbot built by Vercelby▲ Vercel](/templates/next.js/nextjs-ai-chatbot)

## Unleash New Possibilities

Deploy your app on Vercel and unlock its full potential

## Products

* [AI](/ai)
* [Enterprise](/enterprise)
* [Fluid Compute](/fluid)
* [Next.js](/solutions/nextjs)
* [Observability](/products/observability)
* [Previews](/products/previews)
* [Rendering](/products/rendering)
* [Security](/security)
* [Turbo](/solutions/turborepo)
* [v0](https://v0.dev/)

## Resources

* [Community](https://community.vercel.com/)
* [Docs](/docs)
* [Guides](/guides)
* [Help](/help)
* [Integrations](/integrations)
* [Pricing](/pricing)
* [Resources](/resources)
* [Solution Partners](/partners/solution-partners)
* [Templates](/templates)

## Company

* [About](/about)
* [Blog](/blog)
* [Careers](/careers)
* [Changelog](/changelog)
* [Contact Us](/contact)
* [Customers](/customers)
* [Partners](/partners)
* [Privacy Policy](/legal/privacy-policy)
* Legal

## Social

* [GitHub](https://github.com/vercel)
* [LinkedIn](https://linkedin.com/company/vercel)
* [Twitter](https://x.com/vercel)
* [YouTube](https://youtube.com/@VercelHQ)

[Loading status…](https://vercel-status.com)