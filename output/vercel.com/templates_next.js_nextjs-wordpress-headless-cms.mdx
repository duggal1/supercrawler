---
title: Next.js Starter for WordPress Headless CMS
description: No description
keywords: No keywords
canonicalUrl: https://vercel.com/templates/next.js/nextjs-wordpress-headless-cms
---

## Table of Contents

{/* Auto-generated table of contents */}

[Skip to content](#geist-skip-)

* ProductsDX Platform[Previews Helping teams ship 6× faster](/products/previews)[AI Powering breakthroughs](/ai)Managed Infrastructure[Fluid compute Servers, in serverless form](/fluid)[Rendering Fast, scalable, and reliable](/products/rendering)[Observability Trace every step](/products/observability)[Security Scale without compromising](/security)Open Source[Next.js The native Next.js platform](/frameworks/nextjs)[Turborepo Speed with Enterprise scale](/solutions/turborepo)[AI SDK The AI Toolkit for Type](https://sdk.vercel.ai/)
* DX Platform[Previews Helping teams ship 6× faster](/products/previews)[AI Powering breakthroughs](/ai)
* [Previews Helping teams ship 6× faster](/products/previews)
* [AI Powering breakthroughs](/ai)
* Managed Infrastructure[Fluid compute Servers, in serverless form](/fluid)[Rendering Fast, scalable, and reliable](/products/rendering)[Observability Trace every step](/products/observability)[Security Scale without compromising](/security)
* [Fluid compute Servers, in serverless form](/fluid)
* [Rendering Fast, scalable, and reliable](/products/rendering)
* [Observability Trace every step](/products/observability)
* [Security Scale without compromising](/security)
* Open Source[Next.js The native Next.js platform](/frameworks/nextjs)[Turborepo Speed with Enterprise scale](/solutions/turborepo)[AI SDK The AI Toolkit for Type](https://sdk.vercel.ai/)
* [Next.js The native Next.js platform](/frameworks/nextjs)
* [Turborepo Speed with Enterprise scale](/solutions/turborepo)
* [AI SDK The AI Toolkit for Type](https://sdk.vercel.ai/)
* SolutionsUse Cases[AI Apps Deploy at the speed of AI](/solutions/ai-apps)[Composable Commerce Power storefronts that convert](/solutions/composable-commerce)[Marketing Sites Launch campaigns fast](/solutions/marketing-sites)[Multi-tenant Platforms Scale apps with one codebase](/solutions/multi-tenant-saas)[Web Apps Ship features, not infrastructure](/solutions/web-apps)Users[Platform Engineers Automate away repetition](/solutions/platform-engineering)[Design Engineers Deploy for every idea](/solutions/design-engineering)
* Use Cases[AI Apps Deploy at the speed of AI](/solutions/ai-apps)[Composable Commerce Power storefronts that convert](/solutions/composable-commerce)[Marketing Sites Launch campaigns fast](/solutions/marketing-sites)[Multi-tenant Platforms Scale apps with one codebase](/solutions/multi-tenant-saas)[Web Apps Ship features, not infrastructure](/solutions/web-apps)
* [AI Apps Deploy at the speed of AI](/solutions/ai-apps)
* [Composable Commerce Power storefronts that convert](/solutions/composable-commerce)
* [Marketing Sites Launch campaigns fast](/solutions/marketing-sites)
* [Multi-tenant Platforms Scale apps with one codebase](/solutions/multi-tenant-saas)
* [Web Apps Ship features, not infrastructure](/solutions/web-apps)
* Users[Platform Engineers Automate away repetition](/solutions/platform-engineering)[Design Engineers Deploy for every idea](/solutions/design-engineering)
* [Platform Engineers Automate away repetition](/solutions/platform-engineering)
* [Design Engineers Deploy for every idea](/solutions/design-engineering)
* ResourcesTools[Resource Center Today’s best practices](/resources)[Marketplace Extend and automate workflows](/marketplace)[Templates Jumpstart app development](/templates)[Guides Find help quickly](/guides)[Partner Finder Get help from solution partners](/partners/solution-partners)Company[Customers Trusted by the best teams](/customers)[Blog The latest posts and changes](/blog)[Changelog See what shipped](/changelog)[Press Read the latest news](/press)
* Tools[Resource Center Today’s best practices](/resources)[Marketplace Extend and automate workflows](/marketplace)[Templates Jumpstart app development](/templates)[Guides Find help quickly](/guides)[Partner Finder Get help from solution partners](/partners/solution-partners)
* [Resource Center Today’s best practices](/resources)
* [Marketplace Extend and automate workflows](/marketplace)
* [Templates Jumpstart app development](/templates)
* [Guides Find help quickly](/guides)
* [Partner Finder Get help from solution partners](/partners/solution-partners)
* Company[Customers Trusted by the best teams](/customers)[Blog The latest posts and changes](/blog)[Changelog See what shipped](/changelog)[Press Read the latest news](/press)
* [Customers Trusted by the best teams](/customers)
* [Blog The latest posts and changes](/blog)
* [Changelog See what shipped](/changelog)
* [Press Read the latest news](/press)
* [Enterprise](/enterprise)
* [Docs](/docs)
* [Pricing](/pricing)

[Log In](/login)

[Contact](/contact)

[Sign Up](/signup)

[← Back to Templates](/templates)

[9d8dev/next-wp](https://github.com/9d8dev/next-wp)

# Next.js Starter for WordPress Headless CMS

next-wp is a Next.js application for Headless WordPress. Includes functions for fetching posts, categories, tags, pages, and featured media.

[Deploy](/new/clone?demo-deion=next-wp%20is%20a%20Next.js%20application%20for%20Headless%20WordPress.%20Includes%20functions%20for%20fetching%20posts%2C%20categories%2C%20tags%2C%20pages%2C%20and%20featured%20media.&demo-image=%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F42vYuvhKEFDgytSMqS4MR4%2Ff70ac1551b84b7bca8a265f0776b7d28%2FIMG_7211.jpg&demo-title=Next.js%20Starter%20for%20WordPress%20Headless%20CMS&demo-url=https%3A%2F%2Fwp.9d8.dev%2F&env=WORDPRESS_URL%2CWORDPRESS_HOSTNAME&envDeion=Add%20Wordpress%20URL%20with%20Rest%20API%20enabled%20(e.g.%20https%3A%2F%2Fwp.example.com)%20and%20the%20hostname%20for%20Image%20rendering%20in%20Next.js%20(e.g.%20wp.example.com)&from=templates&project-name=Next.js%20Starter%20for%20WordPress%20Headless%20CMS&repository-name=nextjs-wordpress-headless-cms&repository-url=https%3A%2F%2Fgithub.com%2F9d8dev%2Fnext-wp&skippable-integrations=1)

[View Demo](https://wp.9d8.dev/)

[Next.js](/templates/next.js)

[CMS](/templates/cms)

[Tailwind](/templates/tailwind)

[WordPress](/templates/wordpress)

![nextjs-headless-wordpress](/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F42vYuvhKEFDgytSMqS4MR4%2Ff70ac1551b84b7bca8a265f0776b7d28%2FIMG_7211.jpg&w=3840&q=75)

## Next.js Starter for WordPress Headless CMS

> [Watch the Demo Video](https://www.youtube.com/watch?v=JZc1-BcOvYw)
>

[](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2F9d8dev%2Fnext-wp&env=WORDPRESS_URL,WORDPRESS_HOSTNAME,WORDPRESS_WEBHOOK_SECRET&envDeion=Add%20WordPress%20URL%20with%20Rest%20API%20enabled%20(ie.%20https%3A%2F%2Fwp.example.com)%2C%20the%20hostname%20for%20Image%20rendering%20in%20Next%20JS%20(ie.%20wp.example.com)%2C%20and%20a%20secret%20key%20for%20secure%20revalidation&project-name=next-wp&repository-name=next-wp&demo-title=Next%20JS%20and%20WordPress%20Starter&demo-url=https%3A%2F%2Fwp.9d8.dev)

This is a starter template for building a Next.js application that fetches data from a WordPress site using the WordPress REST API. The template includes functions for fetching posts, categories, tags, authors, and featured media from a WordPress site and rendering them in a Next.js application.

`next-wp`is built with[Next.js 15](https://nextjs.org/docs),[React](https://react.dev/),[Type](https://www.typelang.org/docs/),[Tailwind](https://tailwindcss.com/),[shadcn/ui](https://ui.shadcn.com/docs), and[brijr/craft](https://github.com/brijr/craft). It pairs nicely with[brijr/components](https://components.bridger.to/)for a rapid development experience. Built by Cameron and Bridger at[9d8](https://9d8.dev).

### Table of Contents

* Next.js Starter for WordPress Headless CMSTable of ContentsOverviewWordPress FunctionsWordPress TypesPost Card ComponentFilter ComponentDynamic SitemapDynamic OG ImagesRevalidation SetupSearch Functionality
* Table of Contents
* Overview
* WordPress Functions
* WordPress Types
* Post Card Component
* Filter Component
* Dynamic Sitemap
* Dynamic OG Images
* Revalidation Setup
* Search Functionality

### Overview

#### What's included?

✅ Type-safe data layer with the WordPress RestAPI✅ Granular access to revalidation and cache tags✅ Setup for all basic WordPress options: Posts, Pages, Authors, Categories, Tags✅ Easy integration with custom post types and ACF✅ Dynamic routes for Posts and Pages✅ Design system for layout and prose styling ([craft-ds.com](https://craft-ds.com))✅ Filter, Search, and Card components✅ Dynamically rendered sitemap✅ Dynamically generated metadata✅ Dynamically generated OG/Twitter Cards for Posts and pages✅ Responsive  and  components✅ Site configuration file✅ Menu configuration file✅ Lite and dark mode support✅ shadcn/ui components and theming✅ Vercel analytics

#### Important files

* `lib/wordpress.ts`-> Functions for fetching WordPress CMS via Rest API with cache tags
* `lib/wordpress.d.ts`-> Type declarations for the WordPress Rest API
* `components/craft.tsx`-> Handles the design system for the site and prose styling
* `components/posts/post-card.tsx`-> Component and styling for posts
* `components/posts/filter.tsx`-> Filter component for Posts
* `components/posts/search-input.tsx`-> Search component for Posts
* `menu.config.ts`-> Site  menu configuration for desktop and mobile
* `site.config.ts`-> Configuration for`sitemap.ts`and more
* `app/sitemap.ts`-> Dynamically generated sitemap

The following environment variables are required in your`.env.local`file:

```
WORDPRESS_URL
=
"https://wordpress.com"
WORDPRESS_HOSTNAME
=
"wordpress.com"
WORDPRESS_WEBHOOK_SECRET
=
"your-secret-key-here"
```

You can find the example of`.env.local`file in the`.env.example`file (and in Vercel).

### WordPress Functions

The`lib/wordpress.ts`file contains a comprehensive set of functions for interacting with the WordPress REST API. Each function is optimized for Next.js 15's caching system and includes proper error handling.

#### Core Functionality

```
// Default fetch options for all WordPress API calls
const
 defaultFetchOptions
=

{
  next
:

{
    tags
:

[
"wordpress"
]
,
    revalidate
:

3600
,

// 1 hour cache

}
,
  s
:

{

Accept
:

"application/json"
,

"Content-Type"
:

"application/json"
,

}
,
}
;
```

#### Available Functions

* `getAllPosts(filterParams?: { author?: string; tag?: string; category?: string; })`: Fetches posts with optional filtering by author, tag, or category. Uses cache tags for efficient revalidation.
* `getPostById(id: number)`: Retrieves a specific post by ID with proper error handling.
* `getPostBySlug(slug: string)`: Fetches a post using its URL-friendly slug.

* `getAllCategories()`: Retrieves all categories with cache invalidation support.
* `getCategoryById(id: number)`: Gets a specific category with error handling.
* `getCategoryBySlug(slug: string)`: Fetches a category by its slug.
* `getPostsByCategory(categoryId: number)`: Gets all posts in a category, using proper cache tags.

* `getAllTags()`: Fetches all available tags.
* `getTagById(id: number)`: Retrieves a specific tag.
* `getTagBySlug(slug: string)`: Gets a tag by its slug.
* `getTagsByPost(postId: number)`: Fetches all tags associated with a post.
* `getPostsByTag(tagId: number)`: Gets all posts with a specific tag.

* `getAllPages()`: Retrieves all WordPress pages.
* `getPageById(id: number)`: Gets a specific page by ID.
* `getPageBySlug(slug: string)`: Fetches a page by its slug.

* `getAllAuthors()`: Fetches all WordPress authors.
* `getAuthorById(id: number)`: Gets a specific author.
* `getAuthorBySlug(slug: string)`: Retrieves an author by slug.
* `getPostsByAuthor(authorId: number)`: Gets all posts by a specific author.

* `getFeaturedMediaById(id: number)`: Retrieves featured media (images) with size information.

#### Error Handling

All functions use the custom`WordPressAPIError`class for consistent error handling:

```
class

WordPressAPIError

extends

Error

{

constructor
(

message
:
 string
,

public
 status
:
 number
,

public
 endpoint
:
 string
,

)

{

super
(
message
)
;

this
.
name

=

"WordPressAPIError"
;

}
}
```

#### Cache Management

Each function supports Next.js 15's cache tags for efficient revalidation:

```
// Example cache configuration
{
  next
:

{
    tags
:

[
"wordpress"
,

"posts"
,

`
post-
${
id
}
`
]
,
    revalidate
:

3600
,

}
}
```

#### Usage Example

```
try

{

// Fetch posts with filtering

const
 posts
=

await

getAllPosts
(
{
    author
:

"123"
,
    category
:

"news"
,
    tag
:

"featured"
,

}
)
;



// Handle errors properly
}

catch

(
error
)

{

if

(
error
instanceof

WordPressAPIError
)

{

console
.
error
(
`
API Error:
${
error
.
message
}
 (
${
error
.
status
}
)
`
)
;

}
}
```

These functions are designed to work seamlessly with Next.js 15's App Router and provide proper Type support through the types defined in`wordpress.d.ts`.

### WordPress Types

The`lib/wordpress.d.ts`file contains comprehensive Type type definitions for WordPress entities. The type system is built around a core`WPEntity`interface that provides common properties for WordPress content:

```
interface

WPEntity

{
  id
:
 number
;
  date
:
 string
;
  date_gmt
:
 string
;
  modified
:
 string
;
  modified_gmt
:
 string
;
  slug
:
 string
;
  status
:

"publish"

|

"future"

|

"draft"

|

"pending"

|

"private"
;
  link
:
 string
;
  guid
:

{
    rendered
:
 string
;

}
;
}
```

Key type definitions include:

#### Content Types

* `Post`: Blog posts and articles (extends`WPEntity`)
* `Page`: Static pages (extends`WPEntity`)
* `Author`: User information
* `Category`: Post categories (extends`Taxonomy`)
* `Tag`: Post tags (extends`Taxonomy`)
* `FeaturedMedia`: Media attachments (extends`WPEntity`)

#### Shared Interfaces

* `RenderedContent`: For content with HTML rendering
* `RenderedTitle`: For titles with HTML rendering
* `Taxonomy`: Base interface for categories and tags

#### Component Types

```
interface

FilterBarProps

{
  authors
:

Author
[
]
;
  tags
:

Tag
[
]
;
  categories
:

Category
[
]
;
  selectedAuthor
?
:

Author
[
"id"
]
;
  selectedTag
?
:

Tag
[
"id"
]
;
  selectedCategory
?
:

Category
[
"id"
]
;
  onAuthorChange
?
:

(
authorId
:

Author
[
"id"
]

|

undefined
)

=>

void
;
  onTagChange
?
:

(
tagId
:

Tag
[
"id"
]

|

undefined
)

=>

void
;
  onCategoryChange
?
:

(
categoryId
:

Category
[
"id"
]

|

undefined
)

=>

void
;
}
```

#### Media Types

```
interface

MediaDetails

{
  width
:
 number
;
  height
:
 number
;
  file
:
 string
;
  sizes
:

Record
<
string
,

MediaSize
>
;
}


interface

MediaSize

{
  file
:
 string
;
  width
:
 number
;
  height
:
 number
;
  mime_type
:
 string
;
  source_url
:
 string
;
}
```

All types are designed to be:

* Fully type-safe
* Extensible
* Self-documenting
* Compatible with the WordPress REST API

### Post Card Component

The`components/posts/post-card.tsx`file contains the`PostCard`component, which is responsible for rendering a single post card in the application. Here's an overview of the component:

#### Props

* `post`: A`Post`object representing the WordPress post to be rendered.

#### Functionality

1. The component fetches the featured media, author, and category associated with the post using the`getFeaturedMediaById`,`getAuthorById`, and`getCategoryById`functions from`lib/wordpress.ts`.
1. It formats the post date using the`toLocaleDateString`method with the specified options.
1. The component renders a link to the individual post page using the post's slug.
1. Inside the link, it displays the post's featured image, title, excerpt, category, and date.
1. The post title and excerpt are rendered using the`dangerouslySetInnerHTML`attribute to handle HTML content.
1. The component applies various CSS classes to  the post card, including hover effects and transitions.

#### Usage

To use the`PostCard`component, import it into your desired page or component and pass a`Post`object as the`post`prop.

### Filter Component

The`components/posts/filter.tsx`file contains the`FilterPosts`component, which provides a filtering interface for posts based on tags, categories, and authors. Here's an overview of the component:

#### Props

* `authors`: An array of`Author`objects representing the available authors to filter by.
* `tags`: An array of`Tag`objects representing the available tags to filter by.
* `categories`: An array of`Category`objects representing the available categories to filter by.
* `selectedAuthor`: An optional string representing the currently selected author ID.
* `selectedTag`: An optional string representing the currently selected tag ID.
* `selectedCategory`: An optional string representing the currently selected category ID.

#### Functionality

1. The component uses the`useRouter`hook from Next.js to handle igation and URL updates based on the selected filters.
1. It renders three`Select`components for filtering posts by tag, category, and author. Each`Select`component displays the available options and allows the user to select a specific value or choose "All" to reset the filter.
1. When a filter value is changed, the`handleFilterChange`function is called with the filter type and selected value. It updates the URL query parameters accordingly and igates to the updated URL.
1. The component also includes a "Reset Filters" button that, when clicked, calls the`handleResetFilters`function to igate back to the`/posts`page without any filters applied.
1. The selected filter values are passed as props to the component and used to set the initial values of the`Select`components.

### Search Functionality

The template includes a powerful search system that works seamlessly with WordPress's REST API:

#### Search Component

Located in`components/posts/search-input.tsx`, the SearchInput component provides real-time search capabilities:

```
// Usage example
import

{

SearchInput

}

from

"@/components/posts/search-input"
;


<
SearchInput
 defaultValue
=
{
search
}

/
>
```

Features:

* Real-time search with 300ms debouncing
* URL-based state management
* Maintains filters while searching
* Server-side rendering for SEO
* Combines with existing category, tag, and author filters

#### Search Implementation

The search system is implemented across several layers:

1. **Client-Side Component**(`search-input.tsx`):Uses Next.js App Router's URL handlingDebounced input for better performanceMaintains search state in URL parameters
1. Uses Next.js App Router's URL handling
1. Debounced input for better performance
1. Maintains search state in URL parameters
1. **Server-Side Processing**(`page.tsx`):Handles search parameters server-sideCombines search with other filtersParallel data fetching for better performance
1. Handles search parameters server-side
1. Combines search with other filters
1. Parallel data fetching for better performance
1. **WordPress API Integration**(`wordpress.ts`):Comprehensive search across:Post content and titlesAuthor namesCategory namesTag namesSmart query constructionFilter combination support
1. Comprehensive search across:Post content and titlesAuthor namesCategory namesTag names
1. Post content and titles
1. Author names
1. Category names
1. Tag names
1. Smart query construction
1. Filter combination support

#### Search API Functions

The following search-related functions are available in`lib/wordpress.ts`:

```
// Search posts with combined filters
getAllPosts
(
{
  search
?
:
 string
,
  author
?
:
 string
,
  tag
?
:
 string
,
  category
?
:
 string
}
)


// Search specific content types
searchCategories
(
query
:
 string
)
searchTags
(
query
:
 string
)
searchAuthors
(
query
:
 string
)
```

#### Example Usage

```
// In your page component
const

{
 search
}

=

await
 searchParams
;
const
 posts
=
 search
?

await

getAllPosts
(
{
 search
}
)

:

await

getAllPosts
(
)
;
```

The search functionality automatically updates filters and results as you type, providing a smooth user experience while maintaining good performance through debouncing and server-side rendering.

### Dynamic OG Images

This starter includes automatic OG image generation for both posts and pages. The OG images are generated on-demand using the Edge Runtime and include:

* Dynamic title and deion
* Modern, responsive design
* Proper social media card sizes
* Automatic text wrapping and scaling

You can test the OG image generation by visiting:

```
/
api
/
og
?
title
=
Your

Title
&
deion
=
Your

Deion
```

The OG images are automatically generated for:

* Blog posts:`/posts/[slug]`
* Pages:`/pages/[slug]`

Each OG image includes:

* The post/page title
* A snippet of the content (automatically trimmed and cleaned)
* Consistent branding across your site
* Proper dimensions for social media platforms

### Dynamic Sitemap

The sitemap for`next-wp`is generated at`@/app/sitemap.ts`and will appear live on your site at`yourdomain.com/sitemap.xml`. In order to set up your sitemap correctly please make sure to update the`site_domain`in the`site.config.ts`to be the domain of your frontend (not your WordPress instance).

### Revalidation Setup

This starter implements an intelligent caching and revalidation system using Next.js 15's cache tags. Here's how it works:

#### Cache Tags System

The WordPress API functions use a hierarchical cache tag system:

* Global tag:`wordpress`(affects all content)
* Content type tags:`posts`,`pages`,`categories`, etc.
* Individual item tags:`post-123`,`category-456`, etc.

#### Automatic Revalidation

1. **Install the WordPress Plugin:**igate to`wordpress/next-revalidate/`Create a zip file of the folderInstall and activate through WordPress adminGo to Settings > Next.js RevalidationConfigure your Next.js URL and webhook secret
1. igate to`wordpress/next-revalidate/`
1. Create a zip file of the folder
1. Install and activate through WordPress admin
1. Go to Settings > Next.js Revalidation
1. Configure your Next.js URL and webhook secret
1. **Configure Next.js:**Add`WORDPRESS_WEBHOOK_SECRET`to your environment variablesThe webhook endpoint at`/api/revalidate`is already set upNo additional configuration needed
1. Add`WORDPRESS_WEBHOOK_SECRET`to your environment variables
1. The webhook endpoint at`/api/revalidate`is already set up
1. No additional configuration needed
1. **How it Works:**When content is updated in WordPress, the plugin sends a webhookThe webhook includes content type and ID informationNext.js automatically revalidates the appropriate cache tagsOnly affected content is updated, maintaining performance
1. When content is updated in WordPress, the plugin sends a webhook
1. The webhook includes content type and ID information
1. Next.js automatically revalidates the appropriate cache tags
1. Only affected content is updated, maintaining performance

#### Manual Revalidation

You can also manually revalidate content using the`revalidateWordPressData`function:

```
// Revalidate all WordPress content
await

revalidateWordPressData
(
)
;


// Revalidate specific content types
await

revalidateWordPressData
(
[
"posts"
]
)
;
await

revalidateWordPressData
(
[
"categories"
]
)
;


// Revalidate specific items
await

revalidateWordPressData
(
[
"post-123"
]
)
;
await

revalidateWordPressData
(
[
"category-456"
]
)
;
```

This system ensures your content stays fresh while maintaining optimal performance through intelligent caching.

Built by[Bridger Tower](https://twitter.com/bridgertower)and[Cameron Youngblood](https://twitter.com/youngbloodcyb)at[9d8](https://9d8.dev)

[← Back to Templates](/templates)

![nextjs-headless-wordpress](/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F42vYuvhKEFDgytSMqS4MR4%2Ff70ac1551b84b7bca8a265f0776b7d28%2FIMG_7211.jpg&w=3840&q=75)

[9d8dev/next-wp](https://github.com/9d8dev/next-wp)

# Next.js Starter for WordPress Headless CMS

next-wp is a Next.js application for Headless WordPress. Includes functions for fetching posts, categories, tags, pages, and featured media.

[Deploy](/new/clone?demo-deion=next-wp%20is%20a%20Next.js%20application%20for%20Headless%20WordPress.%20Includes%20functions%20for%20fetching%20posts%2C%20categories%2C%20tags%2C%20pages%2C%20and%20featured%20media.&demo-image=%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F42vYuvhKEFDgytSMqS4MR4%2Ff70ac1551b84b7bca8a265f0776b7d28%2FIMG_7211.jpg&demo-title=Next.js%20Starter%20for%20WordPress%20Headless%20CMS&demo-url=https%3A%2F%2Fwp.9d8.dev%2F&env=WORDPRESS_URL%2CWORDPRESS_HOSTNAME&envDeion=Add%20Wordpress%20URL%20with%20Rest%20API%20enabled%20(e.g.%20https%3A%2F%2Fwp.example.com)%20and%20the%20hostname%20for%20Image%20rendering%20in%20Next.js%20(e.g.%20wp.example.com)&from=templates&project-name=Next.js%20Starter%20for%20WordPress%20Headless%20CMS&repository-name=nextjs-wordpress-headless-cms&repository-url=https%3A%2F%2Fgithub.com%2F9d8dev%2Fnext-wp&skippable-integrations=1)

[View Demo](https://wp.9d8.dev/)

[Next.js](/templates/next.js)

[CMS](/templates/cms)

[Tailwind](/templates/tailwind)

[WordPress](/templates/wordpress)

## Next.js Starter for WordPress Headless CMS

> [Watch the Demo Video](https://www.youtube.com/watch?v=JZc1-BcOvYw)
>

[](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2F9d8dev%2Fnext-wp&env=WORDPRESS_URL,WORDPRESS_HOSTNAME,WORDPRESS_WEBHOOK_SECRET&envDeion=Add%20WordPress%20URL%20with%20Rest%20API%20enabled%20(ie.%20https%3A%2F%2Fwp.example.com)%2C%20the%20hostname%20for%20Image%20rendering%20in%20Next%20JS%20(ie.%20wp.example.com)%2C%20and%20a%20secret%20key%20for%20secure%20revalidation&project-name=next-wp&repository-name=next-wp&demo-title=Next%20JS%20and%20WordPress%20Starter&demo-url=https%3A%2F%2Fwp.9d8.dev)

This is a starter template for building a Next.js application that fetches data from a WordPress site using the WordPress REST API. The template includes functions for fetching posts, categories, tags, authors, and featured media from a WordPress site and rendering them in a Next.js application.

`next-wp`is built with[Next.js 15](https://nextjs.org/docs),[React](https://react.dev/),[Type](https://www.typelang.org/docs/),[Tailwind](https://tailwindcss.com/),[shadcn/ui](https://ui.shadcn.com/docs), and[brijr/craft](https://github.com/brijr/craft). It pairs nicely with[brijr/components](https://components.bridger.to/)for a rapid development experience. Built by Cameron and Bridger at[9d8](https://9d8.dev).

### Table of Contents

* Next.js Starter for WordPress Headless CMSTable of ContentsOverviewWordPress FunctionsWordPress TypesPost Card ComponentFilter ComponentDynamic SitemapDynamic OG ImagesRevalidation SetupSearch Functionality
* Table of Contents
* Overview
* WordPress Functions
* WordPress Types
* Post Card Component
* Filter Component
* Dynamic Sitemap
* Dynamic OG Images
* Revalidation Setup
* Search Functionality

### Overview

#### What's included?

✅ Type-safe data layer with the WordPress RestAPI✅ Granular access to revalidation and cache tags✅ Setup for all basic WordPress options: Posts, Pages, Authors, Categories, Tags✅ Easy integration with custom post types and ACF✅ Dynamic routes for Posts and Pages✅ Design system for layout and prose styling ([craft-ds.com](https://craft-ds.com))✅ Filter, Search, and Card components✅ Dynamically rendered sitemap✅ Dynamically generated metadata✅ Dynamically generated OG/Twitter Cards for Posts and pages✅ Responsive  and  components✅ Site configuration file✅ Menu configuration file✅ Lite and dark mode support✅ shadcn/ui components and theming✅ Vercel analytics

#### Important files

* `lib/wordpress.ts`-> Functions for fetching WordPress CMS via Rest API with cache tags
* `lib/wordpress.d.ts`-> Type declarations for the WordPress Rest API
* `components/craft.tsx`-> Handles the design system for the site and prose styling
* `components/posts/post-card.tsx`-> Component and styling for posts
* `components/posts/filter.tsx`-> Filter component for Posts
* `components/posts/search-input.tsx`-> Search component for Posts
* `menu.config.ts`-> Site  menu configuration for desktop and mobile
* `site.config.ts`-> Configuration for`sitemap.ts`and more
* `app/sitemap.ts`-> Dynamically generated sitemap

The following environment variables are required in your`.env.local`file:

```
WORDPRESS_URL
=
"https://wordpress.com"
WORDPRESS_HOSTNAME
=
"wordpress.com"
WORDPRESS_WEBHOOK_SECRET
=
"your-secret-key-here"
```

You can find the example of`.env.local`file in the`.env.example`file (and in Vercel).

### WordPress Functions

The`lib/wordpress.ts`file contains a comprehensive set of functions for interacting with the WordPress REST API. Each function is optimized for Next.js 15's caching system and includes proper error handling.

#### Core Functionality

```
// Default fetch options for all WordPress API calls
const
 defaultFetchOptions
=

{
  next
:

{
    tags
:

[
"wordpress"
]
,
    revalidate
:

3600
,

// 1 hour cache

}
,
  s
:

{

Accept
:

"application/json"
,

"Content-Type"
:

"application/json"
,

}
,
}
;
```

#### Available Functions

* `getAllPosts(filterParams?: { author?: string; tag?: string; category?: string; })`: Fetches posts with optional filtering by author, tag, or category. Uses cache tags for efficient revalidation.
* `getPostById(id: number)`: Retrieves a specific post by ID with proper error handling.
* `getPostBySlug(slug: string)`: Fetches a post using its URL-friendly slug.

* `getAllCategories()`: Retrieves all categories with cache invalidation support.
* `getCategoryById(id: number)`: Gets a specific category with error handling.
* `getCategoryBySlug(slug: string)`: Fetches a category by its slug.
* `getPostsByCategory(categoryId: number)`: Gets all posts in a category, using proper cache tags.

* `getAllTags()`: Fetches all available tags.
* `getTagById(id: number)`: Retrieves a specific tag.
* `getTagBySlug(slug: string)`: Gets a tag by its slug.
* `getTagsByPost(postId: number)`: Fetches all tags associated with a post.
* `getPostsByTag(tagId: number)`: Gets all posts with a specific tag.

* `getAllPages()`: Retrieves all WordPress pages.
* `getPageById(id: number)`: Gets a specific page by ID.
* `getPageBySlug(slug: string)`: Fetches a page by its slug.

* `getAllAuthors()`: Fetches all WordPress authors.
* `getAuthorById(id: number)`: Gets a specific author.
* `getAuthorBySlug(slug: string)`: Retrieves an author by slug.
* `getPostsByAuthor(authorId: number)`: Gets all posts by a specific author.

* `getFeaturedMediaById(id: number)`: Retrieves featured media (images) with size information.

#### Error Handling

All functions use the custom`WordPressAPIError`class for consistent error handling:

```
class

WordPressAPIError

extends

Error

{

constructor
(

message
:
 string
,

public
 status
:
 number
,

public
 endpoint
:
 string
,

)

{

super
(
message
)
;

this
.
name

=

"WordPressAPIError"
;

}
}
```

#### Cache Management

Each function supports Next.js 15's cache tags for efficient revalidation:

```
// Example cache configuration
{
  next
:

{
    tags
:

[
"wordpress"
,

"posts"
,

`
post-
${
id
}
`
]
,
    revalidate
:

3600
,

}
}
```

#### Usage Example

```
try

{

// Fetch posts with filtering

const
 posts
=

await

getAllPosts
(
{
    author
:

"123"
,
    category
:

"news"
,
    tag
:

"featured"
,

}
)
;



// Handle errors properly
}

catch

(
error
)

{

if

(
error
instanceof

WordPressAPIError
)

{

console
.
error
(
`
API Error:
${
error
.
message
}
 (
${
error
.
status
}
)
`
)
;

}
}
```

These functions are designed to work seamlessly with Next.js 15's App Router and provide proper Type support through the types defined in`wordpress.d.ts`.

### WordPress Types

The`lib/wordpress.d.ts`file contains comprehensive Type type definitions for WordPress entities. The type system is built around a core`WPEntity`interface that provides common properties for WordPress content:

```
interface

WPEntity

{
  id
:
 number
;
  date
:
 string
;
  date_gmt
:
 string
;
  modified
:
 string
;
  modified_gmt
:
 string
;
  slug
:
 string
;
  status
:

"publish"

|

"future"

|

"draft"

|

"pending"

|

"private"
;
  link
:
 string
;
  guid
:

{
    rendered
:
 string
;

}
;
}
```

Key type definitions include:

#### Content Types

* `Post`: Blog posts and articles (extends`WPEntity`)
* `Page`: Static pages (extends`WPEntity`)
* `Author`: User information
* `Category`: Post categories (extends`Taxonomy`)
* `Tag`: Post tags (extends`Taxonomy`)
* `FeaturedMedia`: Media attachments (extends`WPEntity`)

#### Shared Interfaces

* `RenderedContent`: For content with HTML rendering
* `RenderedTitle`: For titles with HTML rendering
* `Taxonomy`: Base interface for categories and tags

#### Component Types

```
interface

FilterBarProps

{
  authors
:

Author
[
]
;
  tags
:

Tag
[
]
;
  categories
:

Category
[
]
;
  selectedAuthor
?
:

Author
[
"id"
]
;
  selectedTag
?
:

Tag
[
"id"
]
;
  selectedCategory
?
:

Category
[
"id"
]
;
  onAuthorChange
?
:

(
authorId
:

Author
[
"id"
]

|

undefined
)

=>

void
;
  onTagChange
?
:

(
tagId
:

Tag
[
"id"
]

|

undefined
)

=>

void
;
  onCategoryChange
?
:

(
categoryId
:

Category
[
"id"
]

|

undefined
)

=>

void
;
}
```

#### Media Types

```
interface

MediaDetails

{
  width
:
 number
;
  height
:
 number
;
  file
:
 string
;
  sizes
:

Record
<
string
,

MediaSize
>
;
}


interface

MediaSize

{
  file
:
 string
;
  width
:
 number
;
  height
:
 number
;
  mime_type
:
 string
;
  source_url
:
 string
;
}
```

All types are designed to be:

* Fully type-safe
* Extensible
* Self-documenting
* Compatible with the WordPress REST API

### Post Card Component

The`components/posts/post-card.tsx`file contains the`PostCard`component, which is responsible for rendering a single post card in the application. Here's an overview of the component:

#### Props

* `post`: A`Post`object representing the WordPress post to be rendered.

#### Functionality

1. The component fetches the featured media, author, and category associated with the post using the`getFeaturedMediaById`,`getAuthorById`, and`getCategoryById`functions from`lib/wordpress.ts`.
1. It formats the post date using the`toLocaleDateString`method with the specified options.
1. The component renders a link to the individual post page using the post's slug.
1. Inside the link, it displays the post's featured image, title, excerpt, category, and date.
1. The post title and excerpt are rendered using the`dangerouslySetInnerHTML`attribute to handle HTML content.
1. The component applies various CSS classes to  the post card, including hover effects and transitions.

#### Usage

To use the`PostCard`component, import it into your desired page or component and pass a`Post`object as the`post`prop.

### Filter Component

The`components/posts/filter.tsx`file contains the`FilterPosts`component, which provides a filtering interface for posts based on tags, categories, and authors. Here's an overview of the component:

#### Props

* `authors`: An array of`Author`objects representing the available authors to filter by.
* `tags`: An array of`Tag`objects representing the available tags to filter by.
* `categories`: An array of`Category`objects representing the available categories to filter by.
* `selectedAuthor`: An optional string representing the currently selected author ID.
* `selectedTag`: An optional string representing the currently selected tag ID.
* `selectedCategory`: An optional string representing the currently selected category ID.

#### Functionality

1. The component uses the`useRouter`hook from Next.js to handle igation and URL updates based on the selected filters.
1. It renders three`Select`components for filtering posts by tag, category, and author. Each`Select`component displays the available options and allows the user to select a specific value or choose "All" to reset the filter.
1. When a filter value is changed, the`handleFilterChange`function is called with the filter type and selected value. It updates the URL query parameters accordingly and igates to the updated URL.
1. The component also includes a "Reset Filters" button that, when clicked, calls the`handleResetFilters`function to igate back to the`/posts`page without any filters applied.
1. The selected filter values are passed as props to the component and used to set the initial values of the`Select`components.

### Search Functionality

The template includes a powerful search system that works seamlessly with WordPress's REST API:

#### Search Component

Located in`components/posts/search-input.tsx`, the SearchInput component provides real-time search capabilities:

```
// Usage example
import

{

SearchInput

}

from

"@/components/posts/search-input"
;


<
SearchInput
 defaultValue
=
{
search
}

/
>
```

Features:

* Real-time search with 300ms debouncing
* URL-based state management
* Maintains filters while searching
* Server-side rendering for SEO
* Combines with existing category, tag, and author filters

#### Search Implementation

The search system is implemented across several layers:

1. **Client-Side Component**(`search-input.tsx`):Uses Next.js App Router's URL handlingDebounced input for better performanceMaintains search state in URL parameters
1. Uses Next.js App Router's URL handling
1. Debounced input for better performance
1. Maintains search state in URL parameters
1. **Server-Side Processing**(`page.tsx`):Handles search parameters server-sideCombines search with other filtersParallel data fetching for better performance
1. Handles search parameters server-side
1. Combines search with other filters
1. Parallel data fetching for better performance
1. **WordPress API Integration**(`wordpress.ts`):Comprehensive search across:Post content and titlesAuthor namesCategory namesTag namesSmart query constructionFilter combination support
1. Comprehensive search across:Post content and titlesAuthor namesCategory namesTag names
1. Post content and titles
1. Author names
1. Category names
1. Tag names
1. Smart query construction
1. Filter combination support

#### Search API Functions

The following search-related functions are available in`lib/wordpress.ts`:

```
// Search posts with combined filters
getAllPosts
(
{
  search
?
:
 string
,
  author
?
:
 string
,
  tag
?
:
 string
,
  category
?
:
 string
}
)


// Search specific content types
searchCategories
(
query
:
 string
)
searchTags
(
query
:
 string
)
searchAuthors
(
query
:
 string
)
```

#### Example Usage

```
// In your page component
const

{
 search
}

=

await
 searchParams
;
const
 posts
=
 search
?

await

getAllPosts
(
{
 search
}
)

:

await

getAllPosts
(
)
;
```

The search functionality automatically updates filters and results as you type, providing a smooth user experience while maintaining good performance through debouncing and server-side rendering.

### Dynamic OG Images

This starter includes automatic OG image generation for both posts and pages. The OG images are generated on-demand using the Edge Runtime and include:

* Dynamic title and deion
* Modern, responsive design
* Proper social media card sizes
* Automatic text wrapping and scaling

You can test the OG image generation by visiting:

```
/
api
/
og
?
title
=
Your

Title
&
deion
=
Your

Deion
```

The OG images are automatically generated for:

* Blog posts:`/posts/[slug]`
* Pages:`/pages/[slug]`

Each OG image includes:

* The post/page title
* A snippet of the content (automatically trimmed and cleaned)
* Consistent branding across your site
* Proper dimensions for social media platforms

### Dynamic Sitemap

The sitemap for`next-wp`is generated at`@/app/sitemap.ts`and will appear live on your site at`yourdomain.com/sitemap.xml`. In order to set up your sitemap correctly please make sure to update the`site_domain`in the`site.config.ts`to be the domain of your frontend (not your WordPress instance).

### Revalidation Setup

This starter implements an intelligent caching and revalidation system using Next.js 15's cache tags. Here's how it works:

#### Cache Tags System

The WordPress API functions use a hierarchical cache tag system:

* Global tag:`wordpress`(affects all content)
* Content type tags:`posts`,`pages`,`categories`, etc.
* Individual item tags:`post-123`,`category-456`, etc.

#### Automatic Revalidation

1. **Install the WordPress Plugin:**igate to`wordpress/next-revalidate/`Create a zip file of the folderInstall and activate through WordPress adminGo to Settings > Next.js RevalidationConfigure your Next.js URL and webhook secret
1. igate to`wordpress/next-revalidate/`
1. Create a zip file of the folder
1. Install and activate through WordPress admin
1. Go to Settings > Next.js Revalidation
1. Configure your Next.js URL and webhook secret
1. **Configure Next.js:**Add`WORDPRESS_WEBHOOK_SECRET`to your environment variablesThe webhook endpoint at`/api/revalidate`is already set upNo additional configuration needed
1. Add`WORDPRESS_WEBHOOK_SECRET`to your environment variables
1. The webhook endpoint at`/api/revalidate`is already set up
1. No additional configuration needed
1. **How it Works:**When content is updated in WordPress, the plugin sends a webhookThe webhook includes content type and ID informationNext.js automatically revalidates the appropriate cache tagsOnly affected content is updated, maintaining performance
1. When content is updated in WordPress, the plugin sends a webhook
1. The webhook includes content type and ID information
1. Next.js automatically revalidates the appropriate cache tags
1. Only affected content is updated, maintaining performance

#### Manual Revalidation

You can also manually revalidate content using the`revalidateWordPressData`function:

```
// Revalidate all WordPress content
await

revalidateWordPressData
(
)
;


// Revalidate specific content types
await

revalidateWordPressData
(
[
"posts"
]
)
;
await

revalidateWordPressData
(
[
"categories"
]
)
;


// Revalidate specific items
await

revalidateWordPressData
(
[
"post-123"
]
)
;
await

revalidateWordPressData
(
[
"category-456"
]
)
;
```

This system ensures your content stays fresh while maintaining optimal performance through intelligent caching.

Built by[Bridger Tower](https://twitter.com/bridgertower)and[Cameron Youngblood](https://twitter.com/youngbloodcyb)at[9d8](https://9d8.dev)

## Related Templates

[Contentstack CommerceLearn to use Contentstack SDK to create apps with Next.js and Vercel.byContentstack](/templates/next.js/cms-contentstack-commerce)

[Next.js Blog with Draft ModeStatic blog with Preview Mode, built with Next.js and Contentful.by▲ Vercel](/templates/next.js/nextjs-blog-draft-mode)

[ISR Blog with Next.js and WordPressAn Incremental Static Regeneration Blog Example Using Next.js and WordPressby▲ Vercel](/templates/next.js/isr-blog-nextjs-wordpress)

## Unleash New Possibilities

Deploy your app on Vercel and unlock its full potential

## Products

* [AI](/ai)
* [Enterprise](/enterprise)
* [Fluid Compute](/fluid)
* [Next.js](/solutions/nextjs)
* [Observability](/products/observability)
* [Previews](/products/previews)
* [Rendering](/products/rendering)
* [Security](/security)
* [Turbo](/solutions/turborepo)
* [v0](https://v0.dev/)

## Resources

* [Community](https://community.vercel.com/)
* [Docs](/docs)
* [Guides](/guides)
* [Help](/help)
* [Integrations](/integrations)
* [Pricing](/pricing)
* [Resources](/resources)
* [Solution Partners](/partners/solution-partners)
* [Templates](/templates)

## Company

* [About](/about)
* [Blog](/blog)
* [Careers](/careers)
* [Changelog](/changelog)
* [Contact Us](/contact)
* [Customers](/customers)
* [Partners](/partners)
* [Privacy Policy](/legal/privacy-policy)
* Legal

## Social

* [GitHub](https://github.com/vercel)
* [LinkedIn](https://linkedin.com/company/vercel)
* [Twitter](https://x.com/vercel)
* [YouTube](https://youtube.com/@VercelHQ)

[Loading status…](https://vercel-status.com)