---
title: Mux Video Starter
description: No description
keywords: No keywords
canonicalUrl: https://vercel.com/templates/next.js/mux-video
---

## Table of Contents

{/* Auto-generated table of contents */}

[Skip to content](#geist-skip-)

* ProductsDX Platform[Previews Helping teams ship 6× faster](/products/previews)[AI Powering breakthroughs](/ai)Managed Infrastructure[Fluid compute Servers, in serverless form](/fluid)[Rendering Fast, scalable, and reliable](/products/rendering)[Observability Trace every step](/products/observability)[Security Scale without compromising](/security)Open Source[Next.js The native Next.js platform](/frameworks/nextjs)[Turborepo Speed with Enterprise scale](/solutions/turborepo)[AI SDK The AI Toolkit for Type](https://sdk.vercel.ai/)
* DX Platform[Previews Helping teams ship 6× faster](/products/previews)[AI Powering breakthroughs](/ai)
* [Previews Helping teams ship 6× faster](/products/previews)
* [AI Powering breakthroughs](/ai)
* Managed Infrastructure[Fluid compute Servers, in serverless form](/fluid)[Rendering Fast, scalable, and reliable](/products/rendering)[Observability Trace every step](/products/observability)[Security Scale without compromising](/security)
* [Fluid compute Servers, in serverless form](/fluid)
* [Rendering Fast, scalable, and reliable](/products/rendering)
* [Observability Trace every step](/products/observability)
* [Security Scale without compromising](/security)
* Open Source[Next.js The native Next.js platform](/frameworks/nextjs)[Turborepo Speed with Enterprise scale](/solutions/turborepo)[AI SDK The AI Toolkit for Type](https://sdk.vercel.ai/)
* [Next.js The native Next.js platform](/frameworks/nextjs)
* [Turborepo Speed with Enterprise scale](/solutions/turborepo)
* [AI SDK The AI Toolkit for Type](https://sdk.vercel.ai/)
* SolutionsUse Cases[AI Apps Deploy at the speed of AI](/solutions/ai-apps)[Composable Commerce Power storefronts that convert](/solutions/composable-commerce)[Marketing Sites Launch campaigns fast](/solutions/marketing-sites)[Multi-tenant Platforms Scale apps with one codebase](/solutions/multi-tenant-saas)[Web Apps Ship features, not infrastructure](/solutions/web-apps)Users[Platform Engineers Automate away repetition](/solutions/platform-engineering)[Design Engineers Deploy for every idea](/solutions/design-engineering)
* Use Cases[AI Apps Deploy at the speed of AI](/solutions/ai-apps)[Composable Commerce Power storefronts that convert](/solutions/composable-commerce)[Marketing Sites Launch campaigns fast](/solutions/marketing-sites)[Multi-tenant Platforms Scale apps with one codebase](/solutions/multi-tenant-saas)[Web Apps Ship features, not infrastructure](/solutions/web-apps)
* [AI Apps Deploy at the speed of AI](/solutions/ai-apps)
* [Composable Commerce Power storefronts that convert](/solutions/composable-commerce)
* [Marketing Sites Launch campaigns fast](/solutions/marketing-sites)
* [Multi-tenant Platforms Scale apps with one codebase](/solutions/multi-tenant-saas)
* [Web Apps Ship features, not infrastructure](/solutions/web-apps)
* Users[Platform Engineers Automate away repetition](/solutions/platform-engineering)[Design Engineers Deploy for every idea](/solutions/design-engineering)
* [Platform Engineers Automate away repetition](/solutions/platform-engineering)
* [Design Engineers Deploy for every idea](/solutions/design-engineering)
* ResourcesTools[Resource Center Today’s best practices](/resources)[Marketplace Extend and automate workflows](/marketplace)[Templates Jumpstart app development](/templates)[Guides Find help quickly](/guides)[Partner Finder Get help from solution partners](/partners/solution-partners)Company[Customers Trusted by the best teams](/customers)[Blog The latest posts and changes](/blog)[Changelog See what shipped](/changelog)[Press Read the latest news](/press)
* Tools[Resource Center Today’s best practices](/resources)[Marketplace Extend and automate workflows](/marketplace)[Templates Jumpstart app development](/templates)[Guides Find help quickly](/guides)[Partner Finder Get help from solution partners](/partners/solution-partners)
* [Resource Center Today’s best practices](/resources)
* [Marketplace Extend and automate workflows](/marketplace)
* [Templates Jumpstart app development](/templates)
* [Guides Find help quickly](/guides)
* [Partner Finder Get help from solution partners](/partners/solution-partners)
* Company[Customers Trusted by the best teams](/customers)[Blog The latest posts and changes](/blog)[Changelog See what shipped](/changelog)[Press Read the latest news](/press)
* [Customers Trusted by the best teams](/customers)
* [Blog The latest posts and changes](/blog)
* [Changelog See what shipped](/changelog)
* [Press Read the latest news](/press)
* [Enterprise](/enterprise)
* [Docs](/docs)
* [Pricing](/pricing)

[Log In](/login)

[Contact](/contact)

[Sign Up](/signup)

[← Back to Templates](/templates)

[vercel/next.js](https://github.com/vercel/next.js/tree/canary/examples/with-mux-video)

# Mux Video Starter

A template for building video upload & playback with Mux Video & Next.js.

[Deploy](/new/clone?demo-deion=A%20template%20for%20building%20video%20upload%20%26%20playback%20with%20Mux%20Video%20%26%20Next.js.&demo-image=%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F4ir3RQ5tBjZB2fFyOsMJ0G%2Fc3509af8f1d02e6434e22ddadb75844d%2FCleanShot_2022-07-15_at_13.24.47.png&demo-title=Mux%20Video%20Starter&demo-url=https%3A%2F%2Fwith-mux-video.vercel.app%2F&from=templates&products=%255B%257B%2522type%2522%253A%2522integration%2522%252C%2522protocol%2522%253A%2522video%2522%252C%2522productSlug%2522%253A%2522mux%2522%252C%2522integrationSlug%2522%253A%2522mux%2522%257D%255D&project-name=Mux%20Video%20Starter&repository-name=mux-video&repository-url=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Ftree%2Fcanary%2Fexamples%2Fwith-mux-video&skippable-integrations=1)

[View Demo](https://with-mux-video.vercel.app/)

[Next.js](/templates/next.js)

[Starter](/templates/starter)

[CMS](/templates/cms)

[CSS-in-JSX](/templates/css-in-jsx)

[Mux](/templates/mux)

![Mux Video](/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F4ir3RQ5tBjZB2fFyOsMJ0G%2Fc3509af8f1d02e6434e22ddadb75844d%2FCleanShot_2022-07-15_at_13.24.47.png&w=3840&q=75)

## Mux Video

This example uses Mux Video, an API-first platform for video. The example features video uploading and playback in a Next.js application.

### Try it out

* [https://with-mux-video.vercel.app/](https://with-mux-video.vercel.app/)
* This project was used to create[stream.new](https://stream.new/)

### Deploy your own

#### New to Mux

If you do not already have a Mux account, the easiest way to get started with Mux is through the native integration in the[Vercel Marketplace](https://vercel.com/marketplace/mux). Vercel Marketplace users will get $20 of usage/month for $0.[Learn more](https://vercel.com/marketplace/mux).

[](https://vercel.com/new/clone?repository-url=https://github.com/vercel/next.js/tree/canary/examples/with-mux-video&project-name=with-mux-video&repository-name=with-mux-video&products=%5B%7B%22type%22:%22integration%22,%22productSlug%22:%22mux%22,%22integrationSlug%22:%22mux%22,%22protocol%22:%22video%22%7D%5D)

#### Existing Mux user

If you have an existing Mux account, you can still deploy easily with[Vercel](https://vercel.com/home):

[](https://vercel.com/new/clone?repository-url=https://github.com/vercel/next.js/tree/canary/examples/with-mux-video&project-name=with-mux-video&repository-name=with-mux-video)

Once deployed, continue with step 3 below.

### How to use

If you deployed with the native Mux integration, you're all set! However, if you have your own Mux account already, or want to set up things manually, you can follow the following steps.

#### Step 1. Create your Mux account

The easiest way to get started with Mux is through the native integration in the[Vercel Marketplace](https://vercel.com/marketplace/mux). Vercel Marketplace users will get $20 of usage/month for $0.[Learn more](https://vercel.com/marketplace/mux).

You can also get started by creating an account directly in[Mux](https://www.mux.com/?utm_source=create-next-app&utm_medium=with-mux-video&utm_campaign=create-next-app).

#### Step 2. Create a Next app with this example

Execute[create-next-app](https://github.com/vercel/next.js/tree/canary/packages/create-next-app)with[npm](https://docs.npmjs.com/cli/init),[Yarn](https://yarnpkg.com/lang/en/docs/cli/create/),[pnpm](https://pnpm.io), or[Bun](https://bun.sh/docs/cli/bunx)to bootstrap the example:

```
npx create
-
next
-
app
--
example
with
-
mux
-
video
with
-
mux
-
video
-
app
```

```
yarn create next
-
app
--
example
with
-
mux
-
video
with
-
mux
-
video
-
app
```

```
pnpm create next
-
app
--
example
with
-
mux
-
video
with
-
mux
-
video
-
app
```

```
bunx create
-
next
-
app
--
example
with
-
mux
-
video
with
-
mux
-
video
-
app
```

#### Step 3. Set up environment variables

Copy the`.env.local.example`file in this directory to`.env.local`(which will be ignored by Git):

```
cp
.
env
.
local
.
example

.
env
.
local
```

Then, go to the[settings page](https://dashboard.mux.com/settings/access-tokens)in your Mux dashboard, get a new**API Access Token**. Use that token to set the variables in`.env.local`:

* `MUX_TOKEN_ID`should be the`TOKEN ID`of your new token
* `MUX_TOKEN_SECRET`should be`TOKEN SECRET`

At this point, you're good to`npm run dev`or`yarn dev`or`pnpm dev`. However, if you want to deploy, read on:

#### Step 4. Deploy on Vercel

You can deploy this app to the cloud with[Vercel](https://vercel.com/new?utm_source=github&utm_medium=readme&utm_campaign=next-example)([Documentation](https://nextjs.org/docs/deployment)).

To deploy on Vercel, you need to set the`MUX_TOKEN_ID`and`MUX_TOKEN_SECRET`environment variables using either the[Vercel Dashboard](https://vercel.com/docs/projects/environment-variables/managing-environment-variables?utm_source=github&utm_medium=readme&utm_campaign=next-example)or the[Vercel CLI](https://vercel.com/docs/cli/env?utm_source=github&utm_medium=readme&utm_campaign=next-example)

Then push the project to GitHub/GitLab/Bitbucket and[import to Vercel](https://vercel.com/new?utm_source=github&utm_medium=readme&utm_campaign=next-example)to deploy.

### Notes

#### Preparing for Production

**Important:**When creating uploads, this demo sets`cors_origin: "*"`in the[app/(upload)/page.tsx](https://github.com/vercel/next.js/tree/canary/)file. For extra security, you should update this value to be something like`cors_origin: 'https://your-app.com'`, to restrict uploads to only be allowed from your application.

#### How it works

1. Users land on the home page,`app/(upload)/page.tsx`. The Mux[Direct Uploads API](https://docs.mux.com/api-reference#video/tag/direct-uploads?utm_source=create-next-app&utm_medium=with-mux-video&utm_campaign=create-next-app)provides an endpoint to[Mux Uploader React](https://docs.mux.com/guides/mux-uploader?utm_source=create-next-app&utm_medium=with-mux-video&utm_campaign=create-next-app).
1. The user uploads a video with Mux Uploader. When their upload is complete, Mux Uploader calls a[server action](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations)that redirects to...
1. `app/(upload)/asset/[assetId]/page.tsx`, which polls the[Asset API](https://docs.mux.com/api-reference#video/tag/assets?utm_source=create-next-app&utm_medium=with-mux-video&utm_campaign=create-next-app)via server action, waiting for the asset to be ready. Once the asset is ready, it redirects to...
1. `app/v/[assetId]/page.tsx`, where users can watch their video using[Mux Player React](https://docs.mux.com/guides/mux-player-web?utm_source=create-next-app&utm_medium=with-mux-video&utm_campaign=create-next-app). This page uses the[Mux Image API](https://docs.mux.com/guides/get-images-from-a-video)and the[Next.js Metadata API](https://nextjs.org/docs/app/building-your-application/optimizing/metadata)to provide an og images tailored to each video.

[← Back to Templates](/templates)

![Mux Video](/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F4ir3RQ5tBjZB2fFyOsMJ0G%2Fc3509af8f1d02e6434e22ddadb75844d%2FCleanShot_2022-07-15_at_13.24.47.png&w=3840&q=75)

[vercel/next.js](https://github.com/vercel/next.js/tree/canary/examples/with-mux-video)

# Mux Video Starter

A template for building video upload & playback with Mux Video & Next.js.

[Deploy](/new/clone?demo-deion=A%20template%20for%20building%20video%20upload%20%26%20playback%20with%20Mux%20Video%20%26%20Next.js.&demo-image=%2F%2Fimages.ctfassets.net%2Fe5382hct74si%2F4ir3RQ5tBjZB2fFyOsMJ0G%2Fc3509af8f1d02e6434e22ddadb75844d%2FCleanShot_2022-07-15_at_13.24.47.png&demo-title=Mux%20Video%20Starter&demo-url=https%3A%2F%2Fwith-mux-video.vercel.app%2F&from=templates&products=%255B%257B%2522type%2522%253A%2522integration%2522%252C%2522protocol%2522%253A%2522video%2522%252C%2522productSlug%2522%253A%2522mux%2522%252C%2522integrationSlug%2522%253A%2522mux%2522%257D%255D&project-name=Mux%20Video%20Starter&repository-name=mux-video&repository-url=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Ftree%2Fcanary%2Fexamples%2Fwith-mux-video&skippable-integrations=1)

[View Demo](https://with-mux-video.vercel.app/)

[Next.js](/templates/next.js)

[Starter](/templates/starter)

[CMS](/templates/cms)

[CSS-in-JSX](/templates/css-in-jsx)

[Mux](/templates/mux)

## Mux Video

This example uses Mux Video, an API-first platform for video. The example features video uploading and playback in a Next.js application.

### Try it out

* [https://with-mux-video.vercel.app/](https://with-mux-video.vercel.app/)
* This project was used to create[stream.new](https://stream.new/)

### Deploy your own

#### New to Mux

If you do not already have a Mux account, the easiest way to get started with Mux is through the native integration in the[Vercel Marketplace](https://vercel.com/marketplace/mux). Vercel Marketplace users will get $20 of usage/month for $0.[Learn more](https://vercel.com/marketplace/mux).

[](https://vercel.com/new/clone?repository-url=https://github.com/vercel/next.js/tree/canary/examples/with-mux-video&project-name=with-mux-video&repository-name=with-mux-video&products=%5B%7B%22type%22:%22integration%22,%22productSlug%22:%22mux%22,%22integrationSlug%22:%22mux%22,%22protocol%22:%22video%22%7D%5D)

#### Existing Mux user

If you have an existing Mux account, you can still deploy easily with[Vercel](https://vercel.com/home):

[](https://vercel.com/new/clone?repository-url=https://github.com/vercel/next.js/tree/canary/examples/with-mux-video&project-name=with-mux-video&repository-name=with-mux-video)

Once deployed, continue with step 3 below.

### How to use

If you deployed with the native Mux integration, you're all set! However, if you have your own Mux account already, or want to set up things manually, you can follow the following steps.

#### Step 1. Create your Mux account

The easiest way to get started with Mux is through the native integration in the[Vercel Marketplace](https://vercel.com/marketplace/mux). Vercel Marketplace users will get $20 of usage/month for $0.[Learn more](https://vercel.com/marketplace/mux).

You can also get started by creating an account directly in[Mux](https://www.mux.com/?utm_source=create-next-app&utm_medium=with-mux-video&utm_campaign=create-next-app).

#### Step 2. Create a Next app with this example

Execute[create-next-app](https://github.com/vercel/next.js/tree/canary/packages/create-next-app)with[npm](https://docs.npmjs.com/cli/init),[Yarn](https://yarnpkg.com/lang/en/docs/cli/create/),[pnpm](https://pnpm.io), or[Bun](https://bun.sh/docs/cli/bunx)to bootstrap the example:

```
npx create
-
next
-
app
--
example
with
-
mux
-
video
with
-
mux
-
video
-
app
```

```
yarn create next
-
app
--
example
with
-
mux
-
video
with
-
mux
-
video
-
app
```

```
pnpm create next
-
app
--
example
with
-
mux
-
video
with
-
mux
-
video
-
app
```

```
bunx create
-
next
-
app
--
example
with
-
mux
-
video
with
-
mux
-
video
-
app
```

#### Step 3. Set up environment variables

Copy the`.env.local.example`file in this directory to`.env.local`(which will be ignored by Git):

```
cp
.
env
.
local
.
example

.
env
.
local
```

Then, go to the[settings page](https://dashboard.mux.com/settings/access-tokens)in your Mux dashboard, get a new**API Access Token**. Use that token to set the variables in`.env.local`:

* `MUX_TOKEN_ID`should be the`TOKEN ID`of your new token
* `MUX_TOKEN_SECRET`should be`TOKEN SECRET`

At this point, you're good to`npm run dev`or`yarn dev`or`pnpm dev`. However, if you want to deploy, read on:

#### Step 4. Deploy on Vercel

You can deploy this app to the cloud with[Vercel](https://vercel.com/new?utm_source=github&utm_medium=readme&utm_campaign=next-example)([Documentation](https://nextjs.org/docs/deployment)).

To deploy on Vercel, you need to set the`MUX_TOKEN_ID`and`MUX_TOKEN_SECRET`environment variables using either the[Vercel Dashboard](https://vercel.com/docs/projects/environment-variables/managing-environment-variables?utm_source=github&utm_medium=readme&utm_campaign=next-example)or the[Vercel CLI](https://vercel.com/docs/cli/env?utm_source=github&utm_medium=readme&utm_campaign=next-example)

Then push the project to GitHub/GitLab/Bitbucket and[import to Vercel](https://vercel.com/new?utm_source=github&utm_medium=readme&utm_campaign=next-example)to deploy.

### Notes

#### Preparing for Production

**Important:**When creating uploads, this demo sets`cors_origin: "*"`in the[app/(upload)/page.tsx](https://github.com/vercel/next.js/tree/canary/)file. For extra security, you should update this value to be something like`cors_origin: 'https://your-app.com'`, to restrict uploads to only be allowed from your application.

#### How it works

1. Users land on the home page,`app/(upload)/page.tsx`. The Mux[Direct Uploads API](https://docs.mux.com/api-reference#video/tag/direct-uploads?utm_source=create-next-app&utm_medium=with-mux-video&utm_campaign=create-next-app)provides an endpoint to[Mux Uploader React](https://docs.mux.com/guides/mux-uploader?utm_source=create-next-app&utm_medium=with-mux-video&utm_campaign=create-next-app).
1. The user uploads a video with Mux Uploader. When their upload is complete, Mux Uploader calls a[server action](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations)that redirects to...
1. `app/(upload)/asset/[assetId]/page.tsx`, which polls the[Asset API](https://docs.mux.com/api-reference#video/tag/assets?utm_source=create-next-app&utm_medium=with-mux-video&utm_campaign=create-next-app)via server action, waiting for the asset to be ready. Once the asset is ready, it redirects to...
1. `app/v/[assetId]/page.tsx`, where users can watch their video using[Mux Player React](https://docs.mux.com/guides/mux-player-web?utm_source=create-next-app&utm_medium=with-mux-video&utm_campaign=create-next-app). This page uses the[Mux Image API](https://docs.mux.com/guides/get-images-from-a-video)and the[Next.js Metadata API](https://nextjs.org/docs/app/building-your-application/optimizing/metadata)to provide an og images tailored to each video.

## Related Templates

[Next.js Video StarterThe fastest way to add video to your Next.js app with Mux.byMux](/templates/next.js/next-video-starter)

[Stream.newRecord and upload videos using Mux & Next.jsbyMux](/templates/next.js/stream-new)

## Unleash New Possibilities

Deploy your app on Vercel and unlock its full potential

## Products

* [AI](/ai)
* [Enterprise](/enterprise)
* [Fluid Compute](/fluid)
* [Next.js](/solutions/nextjs)
* [Observability](/products/observability)
* [Previews](/products/previews)
* [Rendering](/products/rendering)
* [Security](/security)
* [Turbo](/solutions/turborepo)
* [v0](https://v0.dev/)

## Resources

* [Community](https://community.vercel.com/)
* [Docs](/docs)
* [Guides](/guides)
* [Help](/help)
* [Integrations](/integrations)
* [Pricing](/pricing)
* [Resources](/resources)
* [Solution Partners](/partners/solution-partners)
* [Templates](/templates)

## Company

* [About](/about)
* [Blog](/blog)
* [Careers](/careers)
* [Changelog](/changelog)
* [Contact Us](/contact)
* [Customers](/customers)
* [Partners](/partners)
* [Privacy Policy](/legal/privacy-policy)
* Legal

## Social

* [GitHub](https://github.com/vercel)
* [LinkedIn](https://linkedin.com/company/vercel)
* [Twitter](https://x.com/vercel)
* [YouTube](https://youtube.com/@VercelHQ)

[Loading status…](https://vercel-status.com)